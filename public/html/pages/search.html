<leaflet class="map fullscreen" markers="search.places" center="search.center"></leaflet>

<form class="search-bar aerial" ng-submit="search.search(search.query); search.showDropshadow = false">

  <input class="search-input" type="text" name="q" ng-model="search.query" ng-focus="search.showDropshadow = true" ng-blur="search.showDropshadow = false">
  <button type="button" class="location-button" ng-click="search.getLocation()" title="Usar localização atual">
    <img class="compass-icon" src="/resources/images/icons/compass.svg" alt="location">
  </button>

  <button class="search-button">
    <img class="search-icon" src="/resources/images/icons/search.svg" alt="search">
  </button>
</form>

<section class="places aerial" ng-class="{fullscreen: search.showPlaces}" my-escape="search.showPlaces = false">
  <button class="more" ng-click="search.showPlaces = !search.showPlaces">
    {{search.showPlaces ? 'Fechar' : 'Ver mais'}}
  </button>
  <div perfect-scrollbar class="place-list">
    <my-place-box place="place" ng-repeat="place in search.places | limitTo:50"></my-place>
  </div>
</section>

<div class="dropshadow" ng-class="{ enabled: search.showDropshadow }" ng-click="search.showDropshadow = false"></div>
<div class="dropshadow" ng-class="{ enabled: search.loading }">
  <div class="animation-wrapper">
    <img class="icon" height="100" width="100" src="/resources/images/icons/navigation.png" alt="loading">
  </div>
</div>
