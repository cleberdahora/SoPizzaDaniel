<leaflet class="map fullscreen" markers="search.places" center="search.center"></leaflet>

<form class="search-bar aerial" ng-submit="search.search(search.query); dropshadow = false">

  <input class="search-input" type="text" name="q" ng-model="search.query" ng-focus="showDropshadow = true" ng-blur="showDropshadow = false">
  <button type="button" class="location-button" ng-click="search.getLocation()" title="Usar localização atual">
    <img class="compass-icon" src="/resources/images/icons/compass.svg" alt="location">
  </button>

  <button class="search-button">
    <img class="search-icon" src="/resources/images/icons/search.svg" alt="search">
  </button>
</form>

<section class="places aerial" ng-class="{fullscreen: search.showPlaces}" my-escape="search.showPlaces = false">
  <button class="more" ng-click="search.showPlaces = !search.showPlaces">
    {{search.showPlaces ? 'Fechar' : 'Ver mais'}}
  </button>
  <masonry class="place-list">
    <my-place place="place" ng-repeat="place in search.places | limitTo:10"></my-place>
  </masonry>
</section>

<div class="dropshadow" ng-class="{ enabled: showDropshadow }" ng-click="showDropshadow = false"></div>
